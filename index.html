<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Essentials Hub</title>
<style>
:root{
  --bg1:#0d111b; --bg2:#0b1526; --card:#0f1724;
  --text:#e5e7eb; --muted:#9ca3af; --accent:#6366f1; --accent2:#4cc1ff;
  --radius:12px; font-family:Inter, system-ui, sans-serif;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:
    radial-gradient(900px 600px at 80% 10%, rgba(76,193,255,0.06), transparent),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  color:var(--text);
}
header{
  text-align:center;
  padding:20px;
  font-size:26px;
  font-weight:700;
  border-bottom:1px solid rgba(255,255,255,0.04);
}
.tagline{text-align:center;color:var(--muted);font-size:13px;margin-top:6px}
section{max-width:980px;margin:auto;padding:20px}
h2{color:var(--accent2);border-left:4px solid var(--accent2);padding-left:10px}

.order-box{
  background:var(--card);
  padding:18px;
  border-radius:var(--radius);
  box-shadow:0 10px 30px rgba(0,0,0,.5);
}

label{font-weight:700;display:block;margin-top:10px}
input,select,textarea{
  width:100%;
  padding:10px;
  background:#0b1322;
  border:1px solid rgba(255,255,255,.08);
  border-radius:8px;
  color:var(--text);
  margin-top:6px;
}

.row-inline{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
.row-inline div{display:flex;align-items:center;gap:6px}

button{
  padding:10px 14px;
  border-radius:10px;
  border:none;
  font-weight:800;
  cursor:pointer;
}
.btn-primary{
  background:linear-gradient(90deg,var(--accent),#5f7bff);
  color:#fff;
}
.btn-primary:hover{box-shadow:0 0 30px rgba(99,102,241,.6)}
.btn-ghost{
  background:transparent;
  border:1px solid rgba(255,255,255,.1);
  color:#fff;
}
.total-row{display:flex;gap:10px;margin-top:10px}
.total-amount{font-size:20px;font-weight:900}
.small-note{font-size:12px;color:var(--muted)}

footer{text-align:center;padding:14px;color:var(--muted)}
</style>
</head>

<body>
<header>✨ Essentials Hub</header>
<p class="tagline">Printing • Coding • Projects • Student Services</p>

<section>

<div class="order-box">
<h2>Order Now</h2>

<!-- ✅ CUSTOMER NAME -->
<label>Your Name</label>
<input id="custName" placeholder="Enter your full name">

<label>Select Service</label>
<select id="service">
<option value="">Choose…</option>
<option data-type="per_page" data-min="3">B/W Print (Single)</option>
<option data-type="per_page" data-min="4">B/W Print (Double)</option>
<option data-type="flat" data-min="200">Civil Drawings (PDF)</option>
<option data-type="flat" data-min="100">1 Hour Coding Help</option>
</select>

<label>Quantity / Pages</label>
<input id="qty" type="number" value="1" min="1">

<div class="row-inline">
<div><input type="checkbox" id="spiral"> Spiral ₹20</div>
<div><input type="checkbox" id="folder"> File ₹30</div>
<div><input type="checkbox" id="delivery"> Delivery</div>
</div>

<div id="collegeBox" style="display:none">
<label>College Name</label>
<input id="college">
</div>

<label>Notes</label>
<textarea id="notes"></textarea>

<div class="total-row">
<div>Total:</div>
<div class="total-amount">₹<span id="total">0</span></div>
</div>

<button class="btn-primary" onclick="submitOrder()">Order via WhatsApp</button>
</div>

</section>

<footer>© 2025 Essentials Hub</footer>

<!-- ✅ CONFIRMATION POPUP -->
<div id="confirmPopup" style="
display:none;
position:fixed;
inset:0;
background:#0b1322;
z-index:9999;
display:flex;
align-items:center;
justify-content:center;
">
  <div style="
    background:#0f1724;
    padding:28px;
    border-radius:14px;
    max-width:420px;
    text-align:center;
    box-shadow:0 0 40px rgba(76,193,255,.25);
  ">
    <h2 style="color:#4cc1ff">✅ Order Confirmed</h2>
    <p class="small-note">Your order has been submitted successfully.</p>
    <p class="small-note">We will contact you shortly on WhatsApp.</p>
    <button class="btn-primary" onclick="closeConfirm()">Close</button>
  </div>
</div>

<script>
function calcTotal(){
  const opt=service.selectedOptions[0];
  if(!opt)return 0;
  let qtyVal=+qty.value||1;
  let total=opt.dataset.min*qtyVal;
  if(spiral.checked) total+=20;
  if(folder.checked) total+=30;
  if(delivery.checked){
    if(opt.dataset.type==="per_page" && qtyVal<20) total+=5;
    if(opt.dataset.type==="flat") total+=15;
    collegeBox.style.display="block";
  }else collegeBox.style.display="none";
  totalSpan.innerText=total;
  return total;
}

function sendToSheet(data){
  fetch("GOOGLE_FORM_URL_HERE",{
    method:"POST",
    mode:"no-cors",
    headers:{'Content-Type':'application/x-www-form-urlencoded'},
    body:new URLSearchParams({
      "entry.111111":data.name,
      "entry.222222":data.service,
      "entry.333333":data.qty,
      "entry.444444":data.total,
      "entry.555555":data.college,
      "entry.666666":data.notes,
      "entry.777777":new Date().toLocaleString()
    })
  });
}

function submitOrder(){
  const total=calcTotal();
  const data={
    name:custName.value||'—',
    service:service.value,
    qty:qty.value,
    total:total,
    college:college.value||'—',
    notes:notes.value||'—'
  };

  sendToSheet(data);

  const msg=`Order from Essentials Hub
Name: ${data.name}
Service: ${data.service}
Quantity: ${data.qty}
College: ${data.college}
Total: ₹${data.total}`;

  window.open("https://wa.me/918511367564?text="+encodeURIComponent(msg));
  document.getElementById("confirmPopup").style.display="flex";
}

function closeConfirm(){
  document.getElementById("confirmPopup").style.display="none";
}
</script>

</body>
</html>
